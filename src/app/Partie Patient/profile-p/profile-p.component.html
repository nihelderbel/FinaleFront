<!DOCTYPE html>
<html lang="en">
<head>
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <!-- iconscout cdn path -->
   <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
   <!-- CSS File Link -->
   <link rel="stylesheet" href="/assets/style1.css">
</head>
<body >
   <div class="sidebar" id="sidebar">
      <div class="logo">
         <a href="/homeDigitalMedical">
         <h3>
            <i class="uil uil-hospital" routerLink="/homeDigitalMedical"></i>
            Clinique NAR
         </h3>
      </a>
      </div>

      <div class="sidebar-menu">
         <ul>
            <li style=" background-color: #006eff;" routerLink="/homePatient">
               <i style="color: #FFFF;" class="uil uil-dashboard"></i>
               <span style="color: #FFFF;">Tableau de bord</span>
            </li>
            <li routerLink="/rendezVousP">
                <i class="uil uil-clipboard-notes"></i>
                <span>Rendez-vous</span>
            </li> 
            <li  class="active" routerLink="/profileP">
               <i  style="color: #006eff;"  class="uil uil-user-nurse"></i>
              <span style="color: #006eff;">Mon Profil</span>
           </li>
            <li (click)="logout()">
               <i class="uil uil-signin"></i>
               <span>Déconnexion</span>
            </li>
         </ul>
      </div>
   </div>

   <div class="main-content" id="main-content" style="background-color: #FFFFFF;">
      <header class="flex" style="background-color: #FFFFFF;">
         <h2>
            <i  class="icofont-user-suited" id="menu-icon"></i>
            Mon Profil
         </h2>
         <div class="admin-box flex" >
            <img src={{imagePath}} width="30px" height="30px">
            <div>
               <h4>{{nomPrenomPatient}}</h4>
               <small style="margin-left: 30px;">Patient </small>
            </div>
         </div>
      </header>
      <div class="container-xl px-4 mt-4" style="background-color: #FFFFFF;">
         <!-- Account page navigation-->
         <div class="row">
             <div class="col-xl-8" style="margin-top: 0px;background-color: #FFFFFF;">
                 <!-- Account details card-->
                 <div class="card mb-4" style="width: 670px;margin-left: 185px;position: fixed;">
                     <div class="card-body">
                         <form style="height:520px; " (ngSubmit)="modifierProfile(fl)" #fl=ngForm>
                           <div class="container">

                              <div class="avatar-upload">
                              <div class="avatar-edit" *ngIf="testImage === null ; else close">
                              <input type='file' id="imageUpload" (change)="onSelectFile($event)" 
                              class="select-profile-picture"  accept=".png, .jpg, .jpeg" />
                              
                                    <label for="imageUpload"></label>
                              </div>
                              <ng-template #close>
                                <div class="avatar-close" >
                                 <label (click)="changeImage()" class="csslabel">
                                <i class="icofont-close" style="color:  #757575; position: absolute;top: 10px;left: 10px;" ></i></label>
                                    <label for="imageUpload"></label>
                                  </div>
                                </ng-template>
                              <div class="avatar-preview">
                                <img id="imagePreview" src={{imagePath2}} style="width:138px ; height: 138px;" >
                              </div>
                              </div>
                              </div>
                              <div class="row gx-3 mb-3">
                                 <!-- Form Group (first name)-->
                                 <div class="col-md-6">
                                     <label  style="margin-left: 35px;">Nom</label>
                                     <input  style="margin-left: 30px;" class="form-control" id="inputFirstName" type="text" placeholder="Entrer votre nom" 
                                     [(ngModel)]=patient.nom ngModel name="nom" required #nom="ngModel" >
                                     <span style="color:#e54f4f ;margin-left:35px;position: absolute;"
                                     *ngIf="!nom.valid && nom.touched">Entrer votre nom  </span>
                              </div>
                                 <!-- Form Group (last name)-->
                                 <div class="col-md-6">
                                     <label >Prénom</label>
                                     <input class="form-control" id="inputLastName" type="text" placeholder="Entrer votre prénom" 
                                     [(ngModel)]=patient.prenom ngModel name="prenom" required #prenom="ngModel" >
                                     <span style="color:#e54f4f ;margin-left:4px;position: absolute;"
                                 *ngIf="!prenom.valid && prenom.touched">Entrer votre prénom  </span>
                                 </div>
                             </div>
                             <!-- Form Row-->
                             <div class="row gx-3 mb-3">
                              <!-- Form Group (first name)-->
                              <div class="col-md-6">
                                 <label style="margin-left: 35px;">Adresse Émail</label>
                                 <input style="margin-left: 30px;" class="form-control" id="inputEmailAddress" type="email" placeholder="Enter your email address" 
                                 [(ngModel)]=patient.email ngModel name="email" required #email="ngModel" >
                                 <span style="color:#e54f4f ;margin-left:33px;position: absolute;"
                                 *ngIf="!email.valid && email.touched">Entrer votre adresse email </span>
                              </div>
                              <!-- Form Group (last name)-->
                              <div class="col-md-6">
                                 <label style="margin-left: 5px;">Numéro CIN</label>
                                     <input  class="form-control" id="inputFirstName" type="tel"  placeholder="Enter your phone number" 
                                     [(ngModel)]=patient.cin ngModel name="cin" required #cin="ngModel"  pattern="[0-9]{8}" minlength="8"  maxlength="8">
                                     <span style="color:#e54f4f ;position: absolute;"
                                     *ngIf="!cin.valid && cin.touched">Entrer votre numéro de cin  </span>
                              </div>
                          </div>
                          <div class="row gx-3 mb-3">
                           <!-- Form Group (first name)-->
                           <div class="col-md-6">
                              <label style="margin-left: 35px;"> Numéro de téléphone</label>
                              <input style="margin-left: 30px;" class="form-control" id="inputEmailAddress" type="text" placeholder="Entrer votre numéro de téléphone" 
                              [(ngModel)]=patient.telephone ngModel name="telephone" required #telephone="ngModel" pattern="[0-9]{8}" minlength="8"  maxlength="8">
                              <span style="color:#e54f4f ;margin-left:33px;position: absolute;"
                              *ngIf="!telephone.valid && telephone.touched">Entrer votre numéro de téléphone</span>
                           </div>
                           <div class="col-md-6">
                              <label style="margin-left: 6px;"> Date de naissance </label>
                              <input type="date" id="date_naissance" name="date_naissance" [value]="formatDate(patient.date_naissance)" required>
                           </div>
                           <div class="col-md-6">
                           <div class="gender">
                              <label class="labell1"> Genre : </label>
                             <div classe="gender">
                              <label for="male" style="margin-left: 181px;position: relative;">Homme&nbsp;&nbsp;</label>
                              <input type="radio" id="homme" [(ngModel)]="gender" value="homme" name="gender"  style="margin-right: 100px;">
                              <label for="female" style="margin-right:10px;">Femme</label>
                              <input type="radio" id="femme" [(ngModel)]="gender" value="femme" name="gender" >
                             </div>             
                           </div>
                           </div>
                           <!-- Form Group (last name)-->
                       </div>
                             <!-- Form Row        -->
                             <div class="row gx-3 mb-3">
                             </div>
                           
                             <button style="margin-left: 287px;margin-top: -36px;" class="btn btn-primary" type="submit" [disabled]=!fl.valid>Enregistrer</button>
                             <br>
                         </form>
                     </div>
                 </div>
             </div>
         </div>
     </div>
   </div>

</body>
</html>