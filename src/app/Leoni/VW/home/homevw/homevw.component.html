<!DOCTYPE html>
<html lang="en">
<head>
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <!-- iconscout cdn path -->
   <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/fontawesome.min.css">
   <!-- CSS File Link -->
   <link rel="stylesheet" href="/assets/style1.css">
</head>
<body>
   <div class="sidebar" id="sidebar">
      <div class="logo">
         <a href="/homeadmin">
            <h3>
               <i class="uil uil-hospital" routerLink="/homeadmin"></i>
               Leoni
            </h3>
         </a>
      </div>

      <div class="sidebar-menu">
         <ul>
            <li routerLink="/homeadmin">
               <i class="uil uil-dashboard"></i>
               <span>Tableau de bord</span>
            </li>
            <li >
                <i class="uil uil-clipboard-notes"></i>
                <span>PDCA</span>
            </li>
           
            <!---
            <li routerLink="/medecinsAM">
                <i class="icofont-doctor"></i>
               <span>Médecins</span>
            </li>
            <li routerLink="/patientsAM"> 
              <i class="uil uil-accessible-icon-alt"></i>
               <span>Patients</span>
            </li>
            <li routerLink="/allDepartementsAM">
                <i class="uil uil-medical-square-full"></i>
               <span>Départements</span>
            </li>     
        
            <li routerLink="/profileAM">
               <i class="icofont-user-suited"></i>
               <span>Mon Profil</span>
            </li>
        -->
        <li routerLink="/viewaudit">
            <i class="uil uil-clipboard-notes"></i>
           <span>Audit</span>
        </li>

            <li (click)="logout()">
               <i class="uil uil-signin"></i>
               <span>Déconnexion</span>
            </li>
         </ul>
      </div>
   </div>

   <div class="main-content" id="main-content">
      <header class="flex">
         <h2>
            <i class="uil uil-calendar-alt"></i>
        PDCA
         </h2>
         <div class="admin-box flex" >
            <img src={{imagePath}} width="30px" height="30px">
            <div>
               <h2>{{nomPrenomAdmin}}</h2>
               <small style="margin-left: 60px;">User </small>
            </div>
         </div>
      </header>

      <main>
         <div class="cards">
            <div class="single-card">
               <div>
                  <span>PDCA</span>
                  <h2></h2>
               </div>
               <i class="uil uil-calendar-alt"></i>
            </div>
            <div class="single-card">
                <div>
                    <img src="/assets/AdminDigital/assets/img/pdff.png" class="icon1" width="35px" height="35px" (click)="downloadPDF()">
                </div>
              
            </div>
            <div class="single-card">
               <div>
                  <span>import Exel</span>
                  <!--<h2>{{patientToDaycount}}</h2>-->
               </div>
               <i class="uil uil-user-plus"></i>
            </div>
           
         </div>
         <div class="wrapper flex">
            <div class="projects">
                <main>
                    <div class="operations">
                        <div class="card-header flex">
                            <h3>PDCA </h3>
                            <div class="search-box">
                                <i class="uil uil-search"></i>
                                <input [(ngModel)]="texte" type="text" placeholder="recherche ici ...">
                            </div>
                           
                           
                        </div>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">N°</th>
                                    <th scope="col">Désignation</th>
                                    <th scope="col">Titre</th>
                                    <th scope="col">Sujet_de_la_publication</th>
                                    <th scope="col">Processus</th>
                                    <th scope="col">Priorité</th>
                                    <th scope="col">Actions_à_faire</th>
                                    <th scope="col">O/N</th>
                                    <th scope="col">Délai(s) de l'action</th>
                                    <th scope="col">Responsable</th>
                                    <th scope="col">Délai</th>
                                    <th scope="col">Statut</th>
                                    <th scope="col">Commentaire</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let task of pcda">
                                    <td>{{task.id}}</td>
                                    <td>{{task.designation}}</td>
                                    <td>{{task.Titre}}</td>
                                    <td>{{task.Sujet_de_publication}}</td>
                                    <td>{{task.Processus}}</td>
                                    <td>{{task.Priorite}}</td>
                                    <td>{{task.Action}}</td>
                                    <td>{{task.O_N}}</td>
                                    <td>{{task.Delaideaction}}</td>
                                    <td>{{task.Responsable}}</td>
                                    <td>{{task.Delai}}</td>
                                    <td>{{task.Statut}}</td>
                                    <td>{{task.Commentaire}}</td>
                                    <td>
                                        <button data-toggle="modal" data-target="#exampleModalCenter" (click)="openModelEdit(task.id)">
                                            <i class="icofont-ui-edit">Modifier</i>
                                        </button> &nbsp;&nbsp;&nbsp;
                                        
                                    </td>
                                    </tr>
                            </tbody>
                        </table>
                    </div>
                </main>
            </div>

            <div style="position:fixed;margin-left:430px; margin-top:140px;"class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                  <div class="modal-content" id="rahma">
                    <div class="modal-header" style="height: 60px;">
                      <h5 class="modal-title" id="exampleModalLongTitle" style="margin-top: 15px;
                      margin-left: 170px;">&nbsp;&nbsp;&nbsp;&nbsp;Modifier PDCA <br></h5>
                      <button type="button" class="close" (click)="closeModalAdd()"
                      style="position: fixed;margin-left: 691px; margin-top: 6px;height: 49px;">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body" style="max-height: 600px; overflow-y: auto;">
                        <form #fAdd="ngForm">
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="form-group">
                                        <label class="labell"> Désignation </label>
                                        <input class="inputt" [(ngModel)]=user.designation ngModel name="designation"  required  #designation="ngModel" type="text" >
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="form-group">
                                        <label class="labell"> Titre : </label>
                                        <input class="inputt" [(ngModel)]=user.titre ngModel name="titre"  required   #titre="ngModel" type="text" >
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="form-group">
                                        <label class="labell1"> Sujet de la publication: </label>
                                        <input class="inputt" [(ngModel)]=user.sujet_de_publication ngModel name="sujet_de_publication"  required  #sujet_de_publication="ngModel" type="text"  >
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="form-group">
                                        <label class="labell1"> Processus: </label>
                                        <input class="inputt" [(ngModel)]=user.processus ngModel name="processus"  required  #processus="ngModel" type="text"  >
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="form-group">
                                        <label class="labell1"> Priorité: </label>
                                        <input class="inputt" [(ngModel)]=user.priorite ngModel name="priorite"  required  #priorite="ngModel" type="text" >
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="form-group">
                                        <label class="labell1"> Actions_à_faire : </label>
                                        <input class="inputt" [(ngModel)]=user.action ngModel name="action"  required #action="ngModel" type="text" >
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="form-group">
                                        <label class="labell1"> Oui Ou Non : </label>
                                        <input class="inputt" [(ngModel)]=user.o_N ngModel name="o_N"  required #o_N="ngModel" type="text">
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="form-group">
                                        <label class="labell1"> Délai de L'action : </label>
                                        <input class="inputt" [(ngModel)]=user.delaideaction ngModel name="delaideaction"  required  #delaideaction="ngModel" type="text" >
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="form-group">
                                        <label class="labell1"> Responsable : </label>
                                        <input class="inputt" [(ngModel)]=user.responsable ngModel  required name="responsable"  #responsable="ngModel" type="text" >
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="form-group">
                                        <label class="labell1"> Délai : </label>
                                        <input class="inputt" [(ngModel)]=user.delai ngModel required  name="delai"  #delai="ngModel" type="text" >
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="form-group">
                                        <label class="labell1"> Statut : </label>
                                        <input class="inputt" [(ngModel)]=user.statut ngModel  required name="statut"  #statut="ngModel" type="text" >
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="form-group">
                                        <label class="labell1"> Commentaire : </label>
                                        <input class="inputt" [(ngModel)]=user.commentaire ngModel required  name="commentaire"  #commentaire="ngModel" type="text" >
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    
                    
                      <div class="modal-footer" style="height: 60px;display: flex;justify-content: center;">
                        <button type="button" class="btn22" (click)="closeModalAdd()">Quitter</button>
                        <button type="submit" class="btn btn-primary" (click)="sauvegarderrr(fAdd)" >Sauvgarder</button>
                      </div>
                    </div>
                    </div>
                    </div>
        </div> 
      </main>
   </div>
</body>
</html>